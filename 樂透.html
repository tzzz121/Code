<!DOCTYPE html>

<html lang="en" xmlns="http://www.w3.org/1999/xhtml">
<head>
    <meta charset="utf-8" />
    <title></title>
    <style>
        h3 {
            display: block;
            border-style:solid;
            background: #BEBEBE;
            border-color:gray;
            width: 373px;
            text-align: center;          
        }
    </style>   
</head>
<body>
    <center>
        <h3>簡易版樂透</h3>
        <table rules="all" frame="border">
            <tr bgcolor="#BEBEBE">
                <th colspan="6" width="310px">電腦開獎-六組數字</th>
                <th width="60px">特別號</th>
            </tr>
            <tr bgcolor="yellow">
                <td height="25px"><center><input type="text" id="number1" size="1" value="?" /></center></td>
                <td><center><input type="text" id="number2" size="1" value="?" /></center></td>
                <td><center><input type="text" id="number3" size="1" value="?" /></center></td>
                <td><center><input type="text" id="number4" size="1" value="?" /></center></td>
                <td><center><input type="text" id="number5" size="1" value="?" /></center></td>
                <td><center><input type="text" id="number6" size="1" value="?" /></center></td>
                <td><center><input type="text" id="number7" size="1" value="?" /></center></td>
            </tr>
        </table>
        <p></p>
        <form id="form1">
            <table border="3" rules="all" width="300px" bgcolor="#FFDCB9">
                <tr>
                    <td><input type="checkbox" name="num" value="1" />01</td>
                    <td><input type="checkbox" name="num" value="2" />02</td>
                    <td><input type="checkbox" name="num" value="3" />03</td>
                    <td><input type="checkbox" name="num" value="4" />04</td>
                    <td><input type="checkbox" name="num" value="5" />05</td>
                    <td><input type="checkbox" name="num" value="6" />06</td>
                    <td><input type="checkbox" name="num" value="7" />07</td>
                </tr>
                <tr>
                    <td><input type="checkbox" name="num" value="8" />08</td>
                    <td><input type="checkbox" name="num" value="9" />09</td>
                    <td><input type="checkbox" name="num" value="10" />10</td>
                    <td><input type="checkbox" name="num" value="11" />11</td>
                    <td><input type="checkbox" name="num" value="12" />12</td>
                    <td><input type="checkbox" name="num" value="13" />13</td>
                    <td><input type="checkbox" name="num" value="14" />14</td>
                </tr>
                <tr>
                    <td><input type="checkbox" name="num" value="15" />15</td>
                    <td><input type="checkbox" name="num" value="16" />16</td>
                    <td><input type="checkbox" name="num" value="17" />17</td>
                    <td><input type="checkbox" name="num" value="18" />18</td>
                    <td><input type="checkbox" name="num" value="19" />19</td>
                    <td><input type="checkbox" name="num" value="20" />20</td>
                    <td><input type="checkbox" name="num" value="21" />21</td>
                </tr>
                <tr>
                    <td><input type="checkbox" name="num" value="22" />22</td>
                    <td><input type="checkbox" name="num" value="23" />23</td>
                    <td><input type="checkbox" name="num" value="24" />24</td>
                    <td><input type="checkbox" name="num" value="25" />25</td>
                    <td><input type="checkbox" name="num" value="26" />26</td>
                    <td><input type="checkbox" name="num" value="27" />27</td>
                    <td><input type="checkbox" name="num" value="28" />28</td>
                </tr>
                <tr>
                    <td><input type="checkbox" name="num" value="29" />29</td>
                    <td><input type="checkbox" name="num" value="30" />30</td>
                    <td><input type="checkbox" name="num" value="31" />31</td>
                    <td><input type="checkbox" name="num" value="32" />32</td>
                    <td><input type="checkbox" name="num" value="33" />33</td>
                    <td><input type="checkbox" name="num" value="34" />34</td>
                    <td><input type="checkbox" name="num" value="35" />35</td>
                </tr>
                <tr>
                    <td><input type="checkbox" name="num" value="36" />36</td>
                    <td><input type="checkbox" name="num" value="37" />37</td>
                    <td><input type="checkbox" name="num" value="38" />38</td>
                    <td><input type="checkbox" name="num" value="39" />39</td>
                    <td><input type="checkbox" name="num" value="40" />40</td>
                    <td><input type="checkbox" name="num" value="41" />41</td>
                    <td><input type="checkbox" name="num" value="42" />42</td>
                </tr>
            </table>
        </form>
        <p></p>
        <button onclick="computer()">電腦開獎</button>
        <button onclick='cut("form1",this)'>號碼重選</button>
        <button onclick="myself()">自己開獎</button>
    </center>
    <script>
        function random(x) {
            return Math.floor(Math.random() * x) + 1;
        }
        function computer() {
            var n = new Array(8);
            for (i = 0; i < 8; i++) {
                n[i] = random(42);
                for (j = 0; j < i; j++) {
                    if (n[i] == n[j]) {
                        i--;
                        continue;
                    }
                }
            }
            document.getElementById("number1").value = n[0];
            document.getElementById("number2").value = n[1];
            document.getElementById("number3").value = n[2];
            document.getElementById("number4").value = n[3];
            document.getElementById("number5").value = n[4];
            document.getElementById("number6").value = n[5];
            document.getElementById("number7").value = n[6];
            var tags = document.getElementsByTagName('input');
            var con = 0;
            var yes;
            var text='自選:'
            var arr='對中:'
            for (var i = 0; i < tags.length; i++) {
                if (tags[i].name.substr(0, 42) == "num") {
                    if (tags[i].checked == true) {
                        text += tags[i].value + " ";
                        for (j = 0; j < 6; j++) {
                            if (tags[i].value == n[j]) {
                                arr += n[j] + " ";
                                con++;
                            }
                        }
                        if (tags[i].value == n[6]) {
                            if (con == 5 || con == 6) {
                                arr += n[6] + " ";
                                yes = 1;
                            }
                            else {
                                arr += n[6] + " ";
                                con++;
                            }
                        }
                    }
                }
            }
            if (con == 6) {
                txt = text + "\n\n";
                txt += arr + "\n\n";
                txt += "恭喜你中了頭獎 \n\n";
                window.alert(txt);
            }
            else if (con == 5 && yes==1) {
                txt = text + "\n\n";
                txt += arr + "\n\n";
                txt += "恭喜你中了二獎 \n\n";
                window.alert(txt);
            }
            else if (con == 5) {
                txt = text + "\n\n";
                txt += arr + "\n\n";
                txt += "恭喜你中了三獎 \n\n";
                window.alert(txt);
            }
            else if (con == 4) {
                txt = text + "\n\n";
                txt += arr + "\n\n";
                txt += "恭喜你中了四獎 \n\n";
                window.alert(txt);
            }
            else if (con == 3) {
                txt = text + "\n\n";
                txt += arr + "\n\n";
                txt += "恭喜你中了普獎200元 \n\n";
                window.alert(txt);
            }
            else if (con == 2) {
                txt = text + "\n\n";
                txt += arr + "\n\n";
                txt += "可惜只中了兩個數字 \n\n";
                window.alert(txt);
            }
            else if (con == 1) {
                txt = text + "\n\n";
                txt += arr + "\n\n";
                txt += "可惜只中了一個數字 \n\n";
                window.alert(txt);
            }
            else if (con == 0) {
                txt = text + "\n\n";
                txt += arr + "\n\n";
                txt += "怎麼連個數字都沒中呢~ \n\n";
                window.alert(txt);
            }
        }
        function cut(input1, input2) {
            document.getElementById("number1").value = "?";
            document.getElementById("number2").value = "?";
            document.getElementById("number3").value = "?";
            document.getElementById("number4").value = "?";
            document.getElementById("number5").value = "?";
            document.getElementById("number6").value = "?";
            document.getElementById("number7").value = "?";
            var form = document.forms[input1];
            var long = form.length;
            for (var i = 0; i < long; i++) {
                if (input2.checked == true) {
                    if (form.elements[i].type == "checkbox") {
                        form.elements[i].checked = true;
                    }
                }
                else {
                    if (form.elements[i].type == "checkbox") {
                        form.elements[i].checked = false;
                    }
                }
            }
        }
        
        function myself() {
            var con = 0;
            var arr = '自選:';
            for (i = 1; i <= 42; i++) {
                for (j = 1; j <= 7; j++) {
                    if (document.getElementById("num[i]").value == document.getElementById("number[i]").value) {
                        arr += document.getElementById("num[i]").value + '';
                        con++;
                    }
                }
            }
            var tags = document.getElementsByTagName('input');
            var con = 0;
            var yes;
            var text = '自選:'
            var arr = '對中:'
            var a1 = document.getElementById("number1").value, a2 = document.getElementById("number2").value, a3 = document.getElementById("number3").value, a4 = document.getElementById("number4").value, a5 = document.getElementById("number5").value, a6 = document.getElementById("number6").value, a7 = document.getElementById("number7").value;
            for (var i = 0; i < tags.length; i++) {
                if (tags[i].name.substr(0, 42) == "num") {
                    if (tags[i].checked == true) {
                        text += tags[i].value + " ";
                        for (j = 1; j < 7; j++) {
                            if (tags[i].value == "a"+j) {
                                arr += "a" + j + " ";
                                con++;
                            }
                        }
                        if (tags[i].value == a7) {
                            if (con == 5 || con == 6) {
                                arr += a7 + " ";
                                yes = 1;
                            }
                            else {
                                arr += a7 + " ";
                                con++;
                            }
                        }
                    }
                }
            }
            if (con == 6) {
                txt = text + "\n\n";
                txt += arr + "\n\n";
                txt += "恭喜你中了頭獎 \n\n";
                window.alert(txt);
            }
            else if (con == 5 && yes == 1) {
                txt = text + "\n\n";
                txt += arr + "\n\n";
                txt += "恭喜你中了二獎 \n\n";
                window.alert(txt);
            }
            else if (con == 5) {
                txt = text + "\n\n";
                txt += arr + "\n\n";
                txt += "恭喜你中了三獎 \n\n";
                window.alert(txt);
            }
            else if (con == 4) {
                txt = text + "\n\n";
                txt += arr + "\n\n";
                txt += "恭喜你中了四獎 \n\n";
                window.alert(txt);
            }
            else if (con == 3) {
                txt = text + "\n\n";
                txt += arr + "\n\n";
                txt += "恭喜你中了普獎200元 \n\n";
                window.alert(txt);
            }
            else if (con == 2) {
                txt = text + "\n\n";
                txt += arr + "\n\n";
                txt += "可惜只中了兩個數字 \n\n";
                window.alert(txt);
            }
            else if (con == 1) {
                txt = text + "\n\n";
                txt += arr + "\n\n";
                txt += "可惜只中了一個數字 \n\n";
                window.alert(txt);
            }
            else if (con == 0) {
                txt = text + "\n\n";
                txt += arr + "\n\n";
                txt += "怎麼連個數字都沒中呢~ \n\n";
                window.alert(txt);
            }
        }
    </script>
</body>
</html>